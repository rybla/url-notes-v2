{"title":"StarDict sends X11 clipboard to remote servers","byline":"By Daroc AldenAugust 11, 2025","lang":"en","content":"<div id=\"readability-page-1\" class=\"page\"><div>\n<blockquote>\n<div>\n<h3>Welcome to LWN.net</h3>\n<p>\nThe following subscription-only content has been made available to you \nby an LWN subscriber.  Thousands of subscribers depend on LWN for the \nbest news from the Linux and free software communities.  If you enjoy this \narticle, please consider <a href=\"https://lwn.net/subscribe/\">subscribing to LWN</a>.  Thank you\nfor visiting LWN.net!\n</p></div>\n</blockquote>\n\n<p>\n<a href=\"https://stardict-4.sourceforge.net/index_en.php\">StarDict</a> is a\nGPLv3-licensed cross-platform dictionary application. It includes dictionaries\nfor a number of languages, and has a rich plugin ecosystem. It also has a\nglaring security problem: while running on X11, using Debian's default configuration,\nit will send a user's text selections over unencrypted HTTP to two remote servers.\n</p>\n\n<p>\nOn August&nbsp;4, Vincent Lefevre\n<a href=\"https://lwn.net/ml/all/20250804092217.GA962280@qaa.vinc17.org/\">\nreported</a> the problem to the oss-security mailing list and to\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1110370\">\nDebian's bug tracker</a>.\nHe identified it while testing his setup before the\nupcoming Debian&nbsp;13 (\"trixie\") release.\nInstalling StarDict will also\ninstall the <tt>stardict-plugin</tt> package by default, because the former\nrecommends the latter. The plugins package contains a set of commonly used\nStarDict plugins, including a plugin for\n<a href=\"https://www.youdao.com/\">\nYouDao</a>, a Chinese search engine that supplies Chinese-to-English\ntranslations. The plugin also contacts a second online Chinese dictionary,\n<a href=\"https://dict.cn/\">\ndict.cn</a>.\n</p>\n\n<p>\nThis would normally not be much cause for concern; of course a dictionary\nprogram will include code to talk to dictionary-providing web sites. But one of\nStarDict's features, which is also enabled by default, is its \"scan\"\nfunctionality: it will watch the user's text selections (i.e. text highlighted\nwith the mouse), and automatically\nprovide translations as a pop-up. Taken together, the two features result in any\nselected text being sent to both servers. This only occurs while StarDict is\nopen, but the application is designed to be left open in the background in case\nthe user needs a quick reference while reading.\n</p>\n\n<p>\nStarDict on Wayland doesn't have this problem, because Wayland\nprevents applications from being\nable to capture text from other applications by default. That does mean that it\nbreaks StarDict's scan feature, though.\n</p>\n\n<p>\nXiao Sheng Wen, the Debian package maintainer for StarDict,\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1110370#10\">\ndidn't see a problem</a> with the behavior, noting that if a user doesn't want\nto use the scan functionality or the YouDao plugin, both can be disabled.\nLefevre\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1110370#29\">\nwasn't satisfied</a> with that, saying:\n</p>\n\n<blockquote>\nBut this is not the whole point. Features with privacy concerns\nshould never be enabled by default (unless the feature is the\nonly purpose of the package, and such a package would never be\ninstalled automatically — and even in such a case, there should\nbe a big warning first).\n</blockquote>\n\n<p>\nIn response, Xiao\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1110370#34\">\npointed out</a> that\n<a href=\"https://packages.debian.org/trixie/stardict-gtk\">\nthe package description</a> can be read by any\nuser who chooses to install the software, and it does mention the scan feature.\nThat said, I noted during my investigation that the\n<a href=\"https://packages.debian.org/trixie/stardict-plugin\">\ndescription</a> of <tt>stardict-plugin</tt> did\nnot mention that the YouDao plugin uses an online service instead of an offline\ndictionary. Xiao suggested splitting the networked dictionary plugins into a\nseparate package, but was \"<q>not sure whether it's very necessary to do so</q>\".\n</p>\n\n<p>\nIt is worth noting that the scan feature, while obviously a problem in this\ncontext, is one of the reasons that a user might choose to use StarDict over an\nalternative. Reading foreign-language media is often easier when words can be\nsought in a dictionary with as little fuss as possible. From that perspective,\nit makes sense that Xiao might not view the feature as problematic.\n</p>\n\n<p>\nAny user who did read the description of the package, and who knew what the\nYouDao plugin would do, might nevertheless expect the resulting communication to\nat least be encrypted. But the plugin actually reaches out to its backend\nservers — dict.youdao.com and dict.cn — over unsecured HTTP. So, not only are\nthese servers sent any text the user selects, but anyone who can view traffic\nanywhere along its path can see the same thing.\n</p>\n\n<p>\nThis is not even the first time that StarDict has sent user selections to the\ninternet; the\nsame kind of problem\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=534731\">was\nreported</a> by Pavel Machek in 2009 and\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=806960#5\">again</a>\nby \"niekt0\" in 2015. The 2009 bug was solved by patching\nthe application's default configuration to disable networked dictionaries. That\nappears to have worked for a time, but the YouDao plugin, which was added in\n2016, does not respect the\nconfiguration option. The 2015 problem was not fixed\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=806960#57\">until\nAugust 6 of this year</a> (although the package was removed from Debian for\nunrelated reasons for a few months from 2020 to 2021). That fix just removed the\n<tt>stardict_dictdotcn.so</tt> plugin, which also sent translation requests to\ndict.cn and was later subsumed by the YouDao plugin,\nfrom the package. In fairness to Xiao, he\nwas not the\nStarDict maintainer in 2015 —\n<a href=\"https://web.archive.org/web/20150912065912/https://tracker.debian.org/pkg/stardict\">\nthat was</a> Andrew Lee — but Xiao\n<a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=806960#28\">knew</a>\nabout the 2015 bug since at least 2021, even if he didn't consider it a priority.\n</p>\n\n<p>\nAccording to Debian's\n<a href=\"https://qa.debian.org/popcon.php?package=stardict\">package popularity\ncontest statistics</a>,\nonly 178 people have\nStarDict installed, down from around a thousand between 2009 and 2015.\nThat obviously doesn't capture people who have configured\ntheir Debian system not to participate in the statistics collection, but it does\nsuggest there were a number of people who might have been broadcasting their text\nselections to the internet for several years. Given that people copy and\npaste passwords from their password managers, or select the text of sensitive\nemails and documents during the course of editing, that should be a significant cause\nfor concern.\n</p>\n\n<p>\nDebian is a large distribution, containing tens of thousands of packages.\nMoreover, because of its commitment to stability, a decent fraction of these\nare older software with delayed or sporadic updates. The reality is that Linus's\nlaw (\"<q>given enough eyeballs, all bugs are shallow</q>\") only holds up if\npeople are looking — and if, once they have looked, and have reported things,\nthe people who have taken up maintenance of the software actually agree that\nthere is a problem.\n</p>\n\n<p>\nPart of the justification for moving to Wayland over X11 is to make security\nvulnerabilities relating to one application spying on another more difficult to\nintroduce. That obviously has to be balanced against the\ncost of adapting to a new way of doing things, but it's not hard to see why so\nmany people are eager to make Wayland work. Maybe, in the future, StarDict's\ndefault behavior would\nhave had little to no impact. Or maybe StarDict would have started asking for\nspecial permissions to let it work on Wayland, and users would have accepted\nthose defaults the same way they currently do.\n</p>\n\n<p>\nEither way, the existence of serious security problems that can be\nfound, diagnosed, reported, and still remain unfixed is cause for concern. Linux\nhas long enjoyed a reputation for security; maintaining that reputation depends\non the developers, maintainers, and users of open-source software caring enough\nto fix security problems when they arise.\n</p><br clear=\"all\">\n               <br clear=\"all\">\n               <hr>\n            </div></div>","textContent":"\n\n\nWelcome to LWN.net\n\nThe following subscription-only content has been made available to you \nby an LWN subscriber.  Thousands of subscribers depend on LWN for the \nbest news from the Linux and free software communities.  If you enjoy this \narticle, please consider subscribing to LWN.  Thank you\nfor visiting LWN.net!\n\n\n\n\nStarDict is a\nGPLv3-licensed cross-platform dictionary application. It includes dictionaries\nfor a number of languages, and has a rich plugin ecosystem. It also has a\nglaring security problem: while running on X11, using Debian's default configuration,\nit will send a user's text selections over unencrypted HTTP to two remote servers.\n\n\n\nOn August 4, Vincent Lefevre\n\nreported the problem to the oss-security mailing list and to\n\nDebian's bug tracker.\nHe identified it while testing his setup before the\nupcoming Debian 13 (\"trixie\") release.\nInstalling StarDict will also\ninstall the stardict-plugin package by default, because the former\nrecommends the latter. The plugins package contains a set of commonly used\nStarDict plugins, including a plugin for\n\nYouDao, a Chinese search engine that supplies Chinese-to-English\ntranslations. The plugin also contacts a second online Chinese dictionary,\n\ndict.cn.\n\n\n\nThis would normally not be much cause for concern; of course a dictionary\nprogram will include code to talk to dictionary-providing web sites. But one of\nStarDict's features, which is also enabled by default, is its \"scan\"\nfunctionality: it will watch the user's text selections (i.e. text highlighted\nwith the mouse), and automatically\nprovide translations as a pop-up. Taken together, the two features result in any\nselected text being sent to both servers. This only occurs while StarDict is\nopen, but the application is designed to be left open in the background in case\nthe user needs a quick reference while reading.\n\n\n\nStarDict on Wayland doesn't have this problem, because Wayland\nprevents applications from being\nable to capture text from other applications by default. That does mean that it\nbreaks StarDict's scan feature, though.\n\n\n\nXiao Sheng Wen, the Debian package maintainer for StarDict,\n\ndidn't see a problem with the behavior, noting that if a user doesn't want\nto use the scan functionality or the YouDao plugin, both can be disabled.\nLefevre\n\nwasn't satisfied with that, saying:\n\n\n\nBut this is not the whole point. Features with privacy concerns\nshould never be enabled by default (unless the feature is the\nonly purpose of the package, and such a package would never be\ninstalled automatically — and even in such a case, there should\nbe a big warning first).\n\n\n\nIn response, Xiao\n\npointed out that\n\nthe package description can be read by any\nuser who chooses to install the software, and it does mention the scan feature.\nThat said, I noted during my investigation that the\n\ndescription of stardict-plugin did\nnot mention that the YouDao plugin uses an online service instead of an offline\ndictionary. Xiao suggested splitting the networked dictionary plugins into a\nseparate package, but was \"not sure whether it's very necessary to do so\".\n\n\n\nIt is worth noting that the scan feature, while obviously a problem in this\ncontext, is one of the reasons that a user might choose to use StarDict over an\nalternative. Reading foreign-language media is often easier when words can be\nsought in a dictionary with as little fuss as possible. From that perspective,\nit makes sense that Xiao might not view the feature as problematic.\n\n\n\nAny user who did read the description of the package, and who knew what the\nYouDao plugin would do, might nevertheless expect the resulting communication to\nat least be encrypted. But the plugin actually reaches out to its backend\nservers — dict.youdao.com and dict.cn — over unsecured HTTP. So, not only are\nthese servers sent any text the user selects, but anyone who can view traffic\nanywhere along its path can see the same thing.\n\n\n\nThis is not even the first time that StarDict has sent user selections to the\ninternet; the\nsame kind of problem\nwas\nreported by Pavel Machek in 2009 and\nagain\nby \"niekt0\" in 2015. The 2009 bug was solved by patching\nthe application's default configuration to disable networked dictionaries. That\nappears to have worked for a time, but the YouDao plugin, which was added in\n2016, does not respect the\nconfiguration option. The 2015 problem was not fixed\nuntil\nAugust 6 of this year (although the package was removed from Debian for\nunrelated reasons for a few months from 2020 to 2021). That fix just removed the\nstardict_dictdotcn.so plugin, which also sent translation requests to\ndict.cn and was later subsumed by the YouDao plugin,\nfrom the package. In fairness to Xiao, he\nwas not the\nStarDict maintainer in 2015 —\n\nthat was Andrew Lee — but Xiao\nknew\nabout the 2015 bug since at least 2021, even if he didn't consider it a priority.\n\n\n\nAccording to Debian's\npackage popularity\ncontest statistics,\nonly 178 people have\nStarDict installed, down from around a thousand between 2009 and 2015.\nThat obviously doesn't capture people who have configured\ntheir Debian system not to participate in the statistics collection, but it does\nsuggest there were a number of people who might have been broadcasting their text\nselections to the internet for several years. Given that people copy and\npaste passwords from their password managers, or select the text of sensitive\nemails and documents during the course of editing, that should be a significant cause\nfor concern.\n\n\n\nDebian is a large distribution, containing tens of thousands of packages.\nMoreover, because of its commitment to stability, a decent fraction of these\nare older software with delayed or sporadic updates. The reality is that Linus's\nlaw (\"given enough eyeballs, all bugs are shallow\") only holds up if\npeople are looking — and if, once they have looked, and have reported things,\nthe people who have taken up maintenance of the software actually agree that\nthere is a problem.\n\n\n\nPart of the justification for moving to Wayland over X11 is to make security\nvulnerabilities relating to one application spying on another more difficult to\nintroduce. That obviously has to be balanced against the\ncost of adapting to a new way of doing things, but it's not hard to see why so\nmany people are eager to make Wayland work. Maybe, in the future, StarDict's\ndefault behavior would\nhave had little to no impact. Or maybe StarDict would have started asking for\nspecial permissions to let it work on Wayland, and users would have accepted\nthose defaults the same way they currently do.\n\n\n\nEither way, the existence of serious security problems that can be\nfound, diagnosed, reported, and still remain unfixed is cause for concern. Linux\nhas long enjoyed a reputation for security; maintaining that reputation depends\non the developers, maintainers, and users of open-source software caring enough\nto fix security problems when they arise.\n\n               \n               \n            ","length":6965,"excerpt":"StarDict is a GPLv3-licensed cross-platform dictionary application. It includes dictionaries f [...]","siteName":"LWN.net","url":"https://lwn.net/SubscriberLink/1032732/3334850da49689e1/","addedTime":"2025-08-12,08:41"}